-- Создание таблицы для статей блога
CREATE TABLE IF NOT EXISTS blog_posts (
    id SERIAL PRIMARY KEY,
    title VARCHAR(500) NOT NULL,
    slug VARCHAR(500) UNIQUE NOT NULL,
    excerpt TEXT,
    content TEXT NOT NULL,
    cover_image VARCHAR(1000),
    author VARCHAR(200) DEFAULT 'Команда Anya',
    published BOOLEAN DEFAULT false,
    views_count INTEGER DEFAULT 0,
    reading_time INTEGER DEFAULT 5,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- Создание индексов для быстрого поиска
CREATE INDEX IF NOT EXISTS idx_blog_posts_published ON blog_posts(published);
CREATE INDEX IF NOT EXISTS idx_blog_posts_slug ON blog_posts(slug);
CREATE INDEX IF NOT EXISTS idx_blog_posts_created_at ON blog_posts(created_at DESC);

-- Вставка тестовых статей
INSERT INTO blog_posts (title, slug, excerpt, content, cover_image, published, reading_time) VALUES
(
    'Как учить английский с ИИ-репетитором: полное руководство',
    'kak-uchit-angliyskiy-s-ii',
    'Узнайте, как современные технологии ИИ помогают учить английский эффективнее традиционных методов. Советы, лайфхаки и реальные истории успеха.',
    'Искусственный интеллект революционизирует изучение языков. В этой статье мы расскажем, как максимально эффективно использовать AI-репетитора для достижения ваших целей в английском.\n\n## Почему ИИ-репетитор эффективнее?\n\n1. **Доступность 24/7** - учитесь когда удобно\n2. **Персонализация** - программа адаптируется под ваш уровень\n3. **Нет страха ошибок** - ИИ не судит, только помогает\n\n## Практические советы\n\nЗанимайтесь регулярно, даже по 10 минут в день. Используйте голосовые сообщения для практики произношения. Не бойтесь делать ошибки - это часть процесса обучения!',
    'https://images.unsplash.com/photo-1522202176988-66273c2fd55f?w=1200&h=600&fit=crop',
    true,
    8
),
(
    '10 способов улучшить разговорный английский за месяц',
    '10-sposobov-uluchshit-razgovornyy',
    'Проверенные методы, которые помогут вам заговорить на английском увереннее всего за 30 дней практики.',
    'Разговорный английский - это навык, который требует регулярной практики. Вот 10 проверенных способов улучшить его за месяц.\n\n## 1. Ежедневные диалоги с ИИ\n\nНачните утро с 10-минутного разговора на английском. Обсудите планы на день, погоду, новости.\n\n## 2. Голосовые сообщения\n\nЗаменяйте текстовые сообщения голосовыми - это отличная практика произношения.\n\n## 3. Думайте на английском\n\nПопробуйте вести внутренний диалог на английском в течение дня.',
    'https://images.unsplash.com/photo-1546410531-bb4caa6b424d?w=1200&h=600&fit=crop',
    true,
    6
),
(
    'Ошибки, которые мешают выучить английский',
    'oshibki-pri-izuchenii-angliyskogo',
    'Разбираем топ-7 ошибок, которые замедляют прогресс в изучении английского, и рассказываем, как их избежать.',
    'Многие люди годами учат английский, но не видят прогресса. Давайте разберем главные ошибки и как их исправить.\n\n## Ошибка №1: Фокус только на грамматике\n\nГрамматика важна, но без практики разговора она бесполезна.\n\n## Ошибка №2: Страх говорить\n\nМногие бояться делать ошибки и поэтому вообще не говорят. Это главный враг прогресса!\n\n## Ошибка №3: Нерегулярные занятия\n\n30 минут каждый день эффективнее, чем 3 часа раз в неделю.',
    'https://images.unsplash.com/photo-1503676260728-1c00da094a0b?w=1200&h=600&fit=crop',
    true,
    7
);
